<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>跨域原理</title>
    <script>
    function btnClick() {
        //基础跨域原理 方法示例

        //动态创建一对script标记
        let script = document.createElement('script');
        //为script的标记指定请求地址（src='http://127.0.0.1:5000/02-server'）
        script.src =
            'http://127.0.0.1:5000/02-server?' +
            'callback=cross_client';
        //为script标记指定type属性text/javascript
        script.type = 'text/javascript';
        //将创建好的script的标记加载到DOM树（网页）上
        //way2
        //document.body.append(script);
        let body = document.getElementsByTagName('body')[0];
        body.append(script);
    }
    function cross_client(data) {
        //处理服务器端响应回来的内容
        //该方法由服务器端的响应来指定调用
        //data表示服务器返回的数据
        alert('服务器端响应回来的数据：' + data);
        console.log(data.uname);
        console.log(data.uage);
        console.log(data.ugender)
    }
    </script>
</head>
<body>
<!--通过http://localhost:5000/02-crossdomain.html来访问当前网页-->
<!--跨域请求到http://127.0.0.1:5000/02-server(when click button)-->
<!--将跨域请求的结果放在console 中进行输出-->
<button id="btn" onclick="btnClick()">跨域请求</button>
</body>
</html>